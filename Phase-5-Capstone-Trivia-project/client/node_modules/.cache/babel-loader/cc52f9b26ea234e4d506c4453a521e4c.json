{"ast":null,"code":"var _jsxFileName = \"/Users/johncaropino/Desktop/Capstone Phase 5/Phase-5-Capstone-Trivia/Phase-5-Capstone-Trivia-project/client/src/context/UserContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/React.createContext();\n\nfunction UserProvider({\n  children\n}) {\n  _s();\n\n  const [user, setUser] = useState();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchData = () => fetch('/auth').then(res => {\n      if (res.ok) {\n        res.json().then(user => setCurrentUser(user));\n      } // else {\n      //   const error = res.json().then(error = setError(error))\n      // }\n\n    });\n\n    if (!currentUser) {\n      fetchData();\n    }\n  }, [currentUser]);\n\n  const oauth = userObject => {\n    fetch(\"/oauth\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userObject)\n    }).then(res => {\n      if (res.status === 201) {\n        res.json().then(setUser).then(() => navigate(\"/welcome\"));\n      } //   else{\n      //     res.json().then( errors => setErrors(errors))\n      // }\n\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      oauth\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserProvider, \"gOtRx8Mr8BKQdtn9mkT1sdV064Q=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserProvider;\nexport { UserContext, UserProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"sources":["/Users/johncaropino/Desktop/Capstone Phase 5/Phase-5-Capstone-Trivia/Phase-5-Capstone-Trivia-project/client/src/context/UserContext.js"],"names":["React","useState","useNavigate","UserContext","createContext","UserProvider","children","user","setUser","navigate","useEffect","fetchData","fetch","then","res","ok","json","setCurrentUser","currentUser","oauth","userObject","method","headers","body","JSON","stringify","status"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAGA,MAAMC,WAAW,gBAAGH,KAAK,CAACI,aAAN,EAApB;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAAA;;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,EAAhC;AAEA,QAAMQ,QAAQ,GAAGP,WAAW,EAA5B;AAEAQ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,SAAS,GAAG,MAClBC,KAAK,CAAC,OAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACC,EAAP,EAAU;AACRD,QAAAA,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBN,IAAI,IAAIU,cAAc,CAACV,IAAD,CAAtC;AACD,OAHU,CAIX;AACA;AACA;;AACD,KARD,CADA;;AAUA,QAAI,CAACW,WAAL,EACA;AAACP,MAAAA,SAAS;AAAI;AACf,GAbQ,EAaP,CAACO,WAAD,CAbO,CAAT;;AAeA,QAAMC,KAAK,GAAIC,UAAD,IAAgB;AAC5BR,IAAAA,KAAK,CAAC,QAAD,EAAW;AACZS,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,OAAO,EAAC;AAAC,wBAAgB;AAAjB,OAFI;AAGZC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeL,UAAf;AAHO,KAAX,CAAL,CAKEP,IALF,CAKOC,GAAG,IAAI;AACV,UAAGA,GAAG,CAACY,MAAJ,KAAe,GAAlB,EAAsB;AAClBZ,QAAAA,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBL,OAAhB,EACCK,IADD,CACM,MAAIJ,QAAQ,CAAC,UAAD,CADlB;AAEH,OAJS,CAKV;AACA;AACA;;AACH,KAbD;AAcD,GAfD;;AAqBA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEF,MAAAA,IAAF;AAAQC,MAAAA,OAAR;AAAiBW,MAAAA;AAAjB,KAA7B;AAAA,cACGb;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA9CQD,Y;UAGUH,W;;;KAHVG,Y;AAgDT,SAASF,WAAT,EAAsBE,YAAtB","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst UserContext = React.createContext();\n\nfunction UserProvider({ children }) {\n  const [user, setUser] = useState();\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const fetchData = () =>\n    fetch('/auth')\n    .then(res => {\n      if(res.ok){\n        res.json().then(user => setCurrentUser(user))\n      } \n      // else {\n      //   const error = res.json().then(error = setError(error))\n      // }\n    })\n    if (!currentUser)\n    {fetchData() } \n  },[currentUser])\n\n  const oauth = (userObject) => {\n    fetch(\"/oauth\", {\n        method: \"POST\",\n        headers:{'Content-Type': 'application/json'},\n        body:JSON.stringify(userObject)\n     })\n     .then(res => {\n        if(res.status === 201){\n            res.json().then(setUser)\n            .then(()=>navigate(\"/welcome\"))\n        } \n        //   else{\n        //     res.json().then( errors => setErrors(errors))\n        // }\n    })   \n  }\n\n\n\n\n\n  return (\n    <UserContext.Provider value={{ user, setUser, oauth }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport { UserContext, UserProvider };\n"]},"metadata":{},"sourceType":"module"}